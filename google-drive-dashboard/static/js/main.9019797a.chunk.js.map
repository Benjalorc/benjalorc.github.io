{"version":3,"sources":["redux/reducers/index.js","redux/constants/action-types.js","redux/store/index.js","redux/actions/index.js","Inicio.js","Dashboard.js","serviceWorker.js","index.js"],"names":["initialState","user","gUser","gAuth","username","imgUrl","isLogged","storage","usage","storageLimit","storageUsage","storageUsageDrive","storageUsageTrash","uploads","maxUploadSize","imports","document","draw","spreadsheet","presentation","changes","token","list","files","docs","sheets","presentations","drawings","status","rootReducer","state","action","type","Object","assign","payload","data","concat","store","createStore","applyMiddleware","thunkMiddleware","setUser","recieveTokens","tipo","waitForDrive","Promise","resolve","reject","interval","setInterval","window","gapi","client","drive","setTimeout","clearInterval","getFilesList","pageToken","dispatch","a","pageSize","fields","q","orderBy","then","res","result","forEach","element","time","Date","modifiedTime","mimeType","push","nextPageToken","items","src","altText","caption","CarouselPromo","useState","activeIndex","setActiveIndex","animating","setAnimating","next","nextIndex","length","previous","slides","map","item","CarouselItem","onExiting","onExited","key","alt","CarouselCaption","captionHeader","captionText","Carousel","CarouselIndicators","onClickHandler","newIndex","CarouselControl","direction","directionText","UserRow","cambiarUsuario","className","onClick","aria-hidden","to","UserFoot","Inicio","loading","setLoading","renderSent","setRenderSent","createRef","useDispatch","useSelector","renderButton","current","signin2","render","googleUser","perfil","getBasicProfile","getName","getImageUrl","err","console","log","addEvent","querySelector","addEventListener","click","id","GeneralOverview","href","target","rel","FilesRows","short","titulo","i","file","scope","name","webViewLink","getDate","getMonth","getFullYear","FilesTable","tableClass","FilesModal","listado","modal","setModal","toggle","disabled","Fragment","Modal","isOpen","size","ModalHeader","ModalBody","ModalFooter","FilesPerType","cardClass","headerClass","FilesCards","doneLoading","useEffect","StorageUsage","storageCanvas","useRef","driveCanvas","trashCanvas","totalStorageChart","driveStorageChart","trashStorageChart","drawChart","Chart","options","legend","display","scales","xAxes","yAxes","labels","datasets","backgroundColor","drawStorageTotalChart","drawStorageDriveChart","drawStorageTrashChart","ref","width","height","FilesLimits","ChangesTable","RecentChanges","activeTab","setActiveTab","Nav","tabs","NavItem","NavLink","tab","TabContent","TabPane","tabId","SideNav","logginOut","mySidenav","profile","usermail","getEmail","userpic","signOut","toggleMenu","auth2","getAuthInstance","logOut","classList","contains","remove","add","Dashboard","first","setFirst","backdropLoading","cornerLoading","history","useHistory","discoveryDocs","final","googleAuth","isSignedIn","get","currentUser","usuario","getStartPageToken","startPageToken","init","obj","about","quota","storageQuota","maxImports","maxImportSizes","limit","parseFloat","toFixed","usageInDrive","usageInTrash","docsize","drawsize","sheetsize","slidesize","Boolean","location","hostname","match","ReactDOM","path","getElementById","navigator","serviceWorker","ready","registration","unregister","catch","error","message"],"mappings":"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","file":"static/js/main.9019797a.chunk.js","sourcesContent":["import {\n\tSET_USER,\n\tLOAD_STORAGE,\n\tUPDATE_CHANGES_TOKEN,\n\tUPDATE_FILES_TOKEN,\n\tCLEAR_STORE\n} from \"../constants/action-types\";\n\nfunction initState(){\n\treturn {\n\t\tuser: {\n\t\t\tgUser: null,\n\t\t\tgAuth: null,\n\t\t\tusername: null,\n\t\t\timgUrl: null,\n\t\t\tisLogged: null\n\t\t},\n\t\tstorage: {\n\t\t\tusage: {\n\t\t\t    storageLimit: 0,\n\t\t\t    storageUsage: 0,\n\t\t\t    storageUsageDrive: 0,\n\t\t\t    storageUsageTrash: 0\n\t\t\t},\n\t\t\tuploads: {\n\t\t\t\tmaxUploadSize: 0\n\t\t\t},\n\t\t\timports: {\n\t\t\t    document: 0,\n\t\t\t    draw: 0,\n\t\t\t    spreadsheet: 0,\n\t\t\t    presentation: 0\n\t\t\t}\n\t\t},\n\t\tchanges: {\n\t\t\ttoken: \"\",\n\t\t\tlist: []\n\t\t},\n\t\tfiles: {\n\t\t\ttoken: \"\",\n\t\t\tlist: {\n\t\t\t\tdocs: [],\n\t\t\t\tsheets: [],\n\t\t\t\tpresentations: [],\n\t\t\t\tdrawings: []\n\t\t\t}\n\t\t},\n\t\tstatus: null\n\t}\n}\nconst initialState = initState();\n\nfunction rootReducer(state = initialState, action){\n\n\tswitch(action.type){\n\t\tcase SET_USER:\n\t\t\treturn Object.assign({}, state, {user: action.payload});\n\n\t\tcase LOAD_STORAGE:\n\t\t\treturn Object.assign({}, state, {storage: action.payload});\n\n\t\tcase UPDATE_CHANGES_TOKEN:\n\t\t\treturn Object.assign({}, state, {changes: action.payload});\n\n\t\tcase UPDATE_FILES_TOKEN:\n\n\t\t\tlet data = {\n\t\t\t\ttoken: action.payload.token,\n\t\t\t\tlist: {\n\t\t\t\t\tdocs: state.files.list.docs.concat(action.payload.list.docs),\n\t\t\t\t\tsheets: state.files.list.sheets.concat(action.payload.list.sheets),\n\t\t\t\t\tpresentations: state.files.list.presentations.concat(action.payload.list.presentations),\n\t\t\t\t\tdrawings: state.files.list.drawings.concat(action.payload.list.drawings)\n\t\t\t\t}\n\t\t\t};\n\t\t\treturn Object.assign({}, state, {files: data});\n\n\t\tcase CLEAR_STORE:\n\t\t\treturn Object.assign({}, state, initState(), {user: action.payload});\n\n\t\tdefault:\n\t\t\treturn state;\n\t}\n}\n\nexport default rootReducer;","export const SET_USER = \"SET_USER\";\nexport const LOAD_STORAGE = \"LOAD_STORAGE\";\nexport const UPDATE_CHANGES_TOKEN = \"UPDATE_CHANGES_TOKEN\";\nexport const UPDATE_FILES_TOKEN = \"UPDATE_FILES_TOKEN\";\nexport const CLEAR_STORE = \"CLEAR_STORE\";","import thunkMiddleware from 'redux-thunk';\nimport { createStore, applyMiddleware } from \"redux\";\nimport rootReducer from \"../reducers/index\";\n\nconst store = createStore(\n\trootReducer,\n\tapplyMiddleware(thunkMiddleware)\n);\n\nexport default store;","import {\n\tSET_USER,\n\tLOAD_STORAGE,\n\tUPDATE_CHANGES_TOKEN,\n\tUPDATE_FILES_TOKEN,\n\tCLEAR_STORE\n} from \"../constants/action-types\";\n\nexport function setUser(payload){\n\treturn {type: SET_USER, payload}\n}\n\nfunction recieveStorageData(payload){\n\treturn {\n\t\ttype: LOAD_STORAGE,\n\t\tpayload\n\t}\n}\n\nfunction recieveTokens(tipo, payload){\n\treturn {\n\t\ttype: tipo,\n\t\tpayload\n\t}\n}\n\nfunction clearStore(payload){\n\treturn {\n\t\ttype: CLEAR_STORE,\n\t\tpayload\n\t}\n}\n\nfunction waitForGapi(){\n\treturn new Promise((resolve, reject)=>{\n\t\tlet interval = setInterval(check, 1000);\n\t\tfunction check(){\n\t\t\tif(window.gapi){\n\t\t\t\tsetTimeout(()=>{\n\t\t\t\t\tresolve(true);\n\t\t\t\t});\n\t\t\t\tclearInterval(interval);\n\t\t\t}\n\t\t}\n\t});\n}\nfunction waitForDrive(){\n\treturn new Promise((resolve, reject)=>{\n\t\tlet interval = setInterval(check, 1000);\n\t\tfunction check(){\n\t\t\tif(window.gapi.client\n\t\t\t&& window.gapi.client.drive){\n\t\t\t\tsetTimeout(()=>{\n\t\t\t\t\tresolve(true);\n\t\t\t\t});\n\t\t\t\tclearInterval(interval);\n\t\t\t}\n\t\t}\n\t});\n}\n\nexport function loadStorage(){\n\n\treturn async function (dispatch) {\n\n\t\tawait waitForDrive();\n\n\t\tlet obj = {'fields': \"storageQuota, maxUploadSize, maxImportSizes\"};\n\t\tconst gapi = window.gapi;\n\t\treturn gapi.client.drive.about.get(obj).then((data)=> {\n\n\t\t\tif(data.status === 200){\n\n\t\t        let quota = data.result.storageQuota;\n\t\t        let maxImports = data.result.maxImportSizes;\n\n\t\t        let usage = {\n\t\t\t        storageLimit: (!quota.limit ? 0 : parseFloat((quota.limit/1073741824).toFixed(2)) ),\n\t\t\t        storageUsage: (!quota.usage ? 0 : parseFloat((quota.usage/1073741824).toFixed(2)) ),\n\t\t\t        storageUsageDrive: (!quota.usageInDrive ? 0 : parseFloat((quota.usageInDrive/1073741824).toFixed(2)) ),\n\t\t\t        storageUsageTrash: (!quota.usageInTrash ? 0 : parseFloat((quota.usageInTrash/1073741824).toFixed(2)) )\n\t\t        }\n\t\t        let uploads = {\n\t\t\t\t\tmaxUploadSize: !data.result.maxUploadSize ? 0 : parseFloat((data.result.maxUploadSize/1024/1024/1024/1024).toFixed(2))\n\t\t        }\n\n\t\t        let docsize = maxImports[\"application/vnd.google-apps.document\"];\n\t\t        let drawsize = maxImports[\"application/vnd.google-apps.drawing\"];\n\t\t        let sheetsize = maxImports[\"application/vnd.google-apps.spreadsheet\"];\n\t\t        let slidesize = maxImports[\"application/vnd.google-apps.presentation\"];\n\n\t\t        let imports = {\n\t\t\t        document: !parseFloat(docsize) ? 0 : (parseFloat(docsize)/1048576).toFixed(2),\n\t\t\t        draw: !parseFloat(drawsize) ? 0 : (parseFloat(drawsize)/1048576).toFixed(2),\n\t\t\t        spreadsheet: !parseFloat(sheetsize) ? 0 : (parseFloat(sheetsize)/1048576).toFixed(2),\n\t\t\t        presentation: !parseFloat(slidesize) ? 0 : (parseFloat(slidesize)/1048576).toFixed(2)\n\t\t        }\n\n\t\t        //Ya almacenadas las variables procede a enviar\n\t\t        //los datos para dibujar las gráficas\n\t\t\t\tdispatch(recieveStorageData({usage, uploads, imports}));\n\t\t\t}\n\t\t});\n\t}\n}\n\nexport function logOut(){\n\n\tconst gapi = window.gapi;\n\tlet auth2 = gapi.auth2.getAuthInstance();\n\n\treturn function (dispatch) {\n\t\treturn auth2.signOut().then(()=> {\n\t\t\tsetTimeout(() =>{\n\t\t\t\tdispatch(clearStore({isLogged: false}));\n\t\t\t},1500)\n\t\t});\n\t}\n\n}\n\nexport function checkStatus(){\n\n\treturn async function (dispatch) {\n\n\t\t//Si aun no existe una instancia de googleAuth la inicializa\n\t\t//Y retorna un JSON que se podra leer cuando la operación se complete\n\t\tawait waitForGapi();\n\n\t\tconst gapi = window.gapi;\n\n\t\tconst apiKey = \"AIzaSyAEdrFiBDNK-HVnj5qxU7gMNcN58zpkR_c\";\n\t\tconst clientId = \"774012725108-tnnusra4io75rsiih2jsp8ukch4j1auu.apps.googleusercontent.com\";\n\t\tconst scope = \"https://www.googleapis.com/auth/drive\";\n\t\tconst discoveryDocs = [\"https://www.googleapis.com/discovery/v1/apis/drive/v3/rest\"];\n\t\tlet googleAuth;\n\n\t\tlet final = async ()=>{\n\t\t\tgoogleAuth = gapi.auth2.getAuthInstance();\n\t\t\tlet con = googleAuth.isSignedIn.get();\n\t\t\tif(con){\n\n\t\t\t\tlet googleUser = googleAuth.currentUser.get()\n\t\t\t\tlet perfil = googleUser.getBasicProfile();\n\t\t\t\tlet usuario = {\n\t\t\t\t\tgUser: googleUser,\n\t\t\t\t\tgAuth: googleAuth,\n\t\t\t\t\tusername: perfil.getName(),\n\t\t\t\t\timgUrl: perfil.getImageUrl(),\n\t\t\t\t\tisLogged: true\n\t\t\t\t}\n\n\t\t\t\tawait waitForDrive();\n\n\t\t\t\treturn gapi.client.drive.changes.getStartPageToken().then((res) =>{\n\t\t\t\t\tlet token = res.result.startPageToken;\n\t\t\t\t\tdispatch(recieveTokens(UPDATE_CHANGES_TOKEN, {token: token, list: []}));\n\t\t\t\t\tdispatch(setUser(usuario));\n\t\t\t\t});\n\t\t\t}\n\t\t\telse{\n\t\t\t\tdispatch(setUser({isLogged: false}));\n\t\t\t}\n\t\t}\n\n        return gapi.client.init({\n          'apiKey': apiKey,\n          'clientId': clientId,\n          'scope': scope,\n          'discoveryDocs': discoveryDocs\n        }).then(final);\n\t}\n}\n\nexport function getChanges() {\n\n\treturn async function (dispatch) {\n\n\t\tconst gapi = window.gapi;\n\t\tlet data = {\n\t\t\tfields: 'nextPageToken, files, files/webViewLink, files/name, files/modifiedTime',\n\t\t\torderBy: \"modifiedTime desc\",\n\t\t\tpageSize: 5\n\t\t};\n\n\t\tawait waitForDrive();\n\n\t\treturn \tgapi.client.drive.files.list(data).then((res) =>{\n\t\t\tif(res.status === 200){\n\t\t\t\tlet files = [];\n\t\t\t\tres.result.files.forEach((element) =>{\n\t\t\t\t\telement.time = new Date(element.modifiedTime);\n\t\t\t\t\tfiles.push(element);\n\t        \t});\n\t\t\t\tdispatch(recieveTokens(UPDATE_CHANGES_TOKEN, {token: res.result.nextPageToken, list: files}));\n\t\t\t}\n\t\t});\n\t}\n}\n\nexport function getFilesList(pageToken) {\n\n\treturn async function (dispatch) {\n\n\t\tconst gapi = window.gapi;\n\t\tlet data = {\n\t\t\tpageSize: 5,\n\t\t\tpageToken: pageToken,\n\t\t\tfields: 'nextPageToken, files, files/webViewLink, files/name, files/modifiedTime, files/mimeType',\n\t\t\tq: \"mimeType='application/vnd.google-apps.document' or mimeType='application/vnd.google-apps.spreadsheet' or mimeType='application/vnd.google-apps.presentation' or mimeType='application/vnd.google-apps.drawing'\",\n\t\t\torderBy: \"modifiedTime desc\"\n\t\t};\n\n\t\tawait waitForDrive();\n\n\t\treturn gapi.client.drive.files.list(data).then((res)=>{\n\t\t\tif(res.status === 200){\n\n\t\t\t\tlet docs = [], sheets = [], presentations = [], drawings = [];\n\t\t\t\tres.result.files.forEach((element) =>{\n\n\t\t\t\telement.time = new Date(element.modifiedTime);\n\t\t\t\tswitch(element.mimeType){\n\n\t\t\t\t\tcase \"application/vnd.google-apps.document\":\n\t\t\t\t\t\tdocs.push(element);\n\t\t\t\t\tbreak;\n\n\t\t\t\t\tcase \"application/vnd.google-apps.spreadsheet\":\n\t\t\t\t\t\tsheets.push(element);\n\t\t\t\t\tbreak;\n\n\t\t\t\t\tcase \"application/vnd.google-apps.presentation\":\n\t\t\t\t\t\tpresentations.push(element);\n\t\t\t\t\tbreak;\n\n\t\t\t\t\tcase \"application/vnd.google-apps.drawing\":\n\t\t\t\t\t\tdrawings.push(element);\n\t\t\t\t\tbreak;\n\t\t\t\t\tdefault:\n\t\t\t\t}\n\n\t\t\t\t});\n\n\t\t\t\tlet payload = {\n\t\t\t\t\ttoken: (res.result.nextPageToken || false),\n\t\t\t\t\tlist: {\n\t\t\t\t\t\tdocs,\n\t\t\t\t\t\tsheets,\n\t\t\t\t\t\tpresentations,\n\t\t\t\t\t\tdrawings\n\t\t\t\t\t}\n\t\t\t\t};\n\t\t\t\tdispatch(recieveTokens(UPDATE_FILES_TOKEN, payload));\n\t\t\t}\n\t\t});\n\t}\n}\n","import React, { createRef, useState } from 'react';\nimport { Link } from \"react-router-dom\";\nimport { useDispatch, useSelector } from \"react-redux\";\nimport { setUser } from \"./redux/actions/index\";\nimport './Inicio.css';\nimport {\n  Carousel,\n  CarouselItem,\n  CarouselControl,\n  CarouselIndicators,\n  CarouselCaption\n} from 'reactstrap';\n\nconst items = [\n  {\n    src: \"images/slide-1-transparent.png\",\n    altText: 'Slide 1',\n    caption: 'Acceso fácil a documentos'\n  },\n  {\n    src: \"images/slide-2-transparent.png\",\n    altText: 'Slide 2',\n    caption: 'Prácticas estadísticas'\n  },\n  {\n    src: \"images/slide-3-transparent.png\",\n    altText: 'Slide 3',\n    caption: 'Haga click para comenzar!'\n  }\n];\n\nfunction CarouselPromo(){\n  const [activeIndex, setActiveIndex] = useState(0);\n  const [animating, setAnimating] = useState(false);\n\n  const next = () => {\n    if (animating) return;\n    const nextIndex = activeIndex === items.length - 1 ? 0 : activeIndex + 1;\n    setActiveIndex(nextIndex);\n  }\n\n  const previous = () => {\n    if (animating) return;\n    const nextIndex = activeIndex === 0 ? items.length - 1 : activeIndex - 1;\n    setActiveIndex(nextIndex);\n  }\n\n  const goToIndex = (newIndex) => {\n    if (animating) return;\n    setActiveIndex(newIndex);\n  }\n\n  const slides = items.map((item) => {\n    return (\n      <CarouselItem\n        onExiting={() => setAnimating(true)}\n        onExited={() => setAnimating(false)}\n        key={item.src}\n      >\n        <img src={item.src} alt={item.altText} />\n        <CarouselCaption captionHeader={item.caption} captionText=\"\" />\n      </CarouselItem>\n    );\n  });\n\n  return (\n    <Carousel\n      activeIndex={activeIndex}\n      next={next}\n      previous={previous}\n    >\n      <CarouselIndicators items={items} activeIndex={activeIndex} onClickHandler={goToIndex} />\n      {slides}\n      <CarouselControl direction=\"prev\" directionText=\"Previous\" onClickHandler={previous} />\n      <CarouselControl direction=\"next\" directionText=\"Next\" onClickHandler={next} />\n    </Carousel>\n  );\n}\n\nfunction UserRow({user, cambiarUsuario}){\n\tif(!user || !user.isLogged) return null\n\treturn(\n\t\t<div className=\"row\">\n\n\t\t\t<div className=\"col-3 col-md-4\"></div>\n\t\t\t<div className=\"col-6 col-md-4 profilePic\">\n\t\t\t\t<img className=\"card-img-top profilePic\" alt=\"user\" src={user.imgUrl} onClick={cambiarUsuario} />\n\t\t\t\t<span className=\"overlay-switch\" onClick={cambiarUsuario}><i className=\"fa fa-exchange\" aria-hidden=\"true\"></i></span>\n\t\t\t</div>\n\t\t\t<div className=\"col-3 col-md-4\"></div>\n\t\t\t<div className=\"col-12\">\n\t\t\t\t<h5 className=\"card-title\">Bienvenido(a) {user.username}!</h5>\n\t\t\t\t<p className=\"card-text\">Ya puede ingresar a su dashboard haciendo click en el botón a continuación.</p>\n\t\t\t\t<Link to=\"/dashboard\" className=\"btn btn-outline-success\">Continuar</Link>\n\t\t\t</div>\n\t\t</div>\n\t)\n}\n\nfunction UserFoot({user, cambiarUsuario}){\n\tif(!user || !user.isLogged) return null\n\treturn(\n\t\t<div className=\"card-footer text-muted\">\n\t\t\t<span className=\"wrongUserLink\" onClick={cambiarUsuario}> ¿No eres {user.username}? </span>\n\t\t</div>\n\t)\n}\n\nfunction Inicio(){\n\n  let [loading, setLoading] = useState(true);\n  let [renderSent, setRenderSent] = useState(false);\n  let gapi = createRef(window.gapi);\n  const dispatch = useDispatch();\n\n  const user = useSelector(state => state.user);\n\n\tfunction waitForGapi(){\n\t\treturn new Promise((resolve, reject)=>{\n\t\t\tlet interval = setInterval(check, 1000);\n\t\t\tfunction check(){\n\t\t\t\tif(window.gapi){\n\t\t\t\t\tgapi.current = window.gapi;\n\t\t\t\t\tclearInterval(interval);\n\t\t\t\t\tresolve(true);\n\t\t\t\t}\n\t\t\t}\n\t\t});\n\t}\n\nfunction renderButton(){\n\n\tif(renderSent) return false;\n\n  \t//Inicializa un boton pre-configurado para permitir\n  \t//El inicio de sesion\n\n  \tlet onSignIn = (googleUser)=> {\n\t\tlet perfil = googleUser.getBasicProfile();\n\t\tlet data = {\n\t\t\tgUser: googleUser,\n\t\t\tusername: perfil.getName(),\n\t\t\timgUrl: perfil.getImageUrl(),\n\t\t\tisLogged: true\n\t\t}\n\t\tdispatch(setUser(data));\n\t\tsetLoading(false);\n\t}\n\n\tlet onFailure = (err)=>{\n\t\tconsole.log(err);\n\t\tsetLoading(false);\n\t}\n\n\tgapi.current.signin2.render('my-signin2', {\n        'scope': 'profile email',\n        'width': 220,\n        'height': 50,\n        'longtitle': true,\n        'theme': 'light',\n        'onsuccess': onSignIn,\n        'onfailure': onFailure\n    });\n\n    let addEvent = ()=>{\n\t    setTimeout(() =>{\n\n\t\t\tlet element = document.querySelector(\"#my-signin2 > div\");\n\t\t\tif(element){\n\t\t\t\telement.addEventListener(\"click\", ()=>{\n\t\t\t\t\tsetLoading(true);\n\t\t\t\t});\n\t\t\t}\n\t\t\telse{\n\t\t\t\taddEvent();\n\t\t\t}\n\t    },1000);\n    }\n    addEvent();\n\n\tsetRenderSent(true);\n    setLoading(false);\n}\n\n\tfunction cambiarUsuario(){\n\t\tlet element = document.querySelector(\"#my-signin2 > div\");\n\t\telement.click()\n\t}\n\n\tif(!gapi.current){\n\t\twaitForGapi().then(()=> renderButton());\n\t}\n\telse{\n\t\trenderButton();\n\t}\n\n\treturn (\n\t\t<div className=\"row login\">\n\t\t\t<div className=\"col-12 col-md-3\"></div>\n\t\t\t<div className=\"col-12 col-md-6\">\n\n\t\t\t\t<div className=\"card bg-white text-center box-shadow-1\">\n\n\t\t\t\t\t<div className=\"card-header\">\n\t\t\t\t\t\t<CarouselPromo />\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\tuser.isLogged ? <span><span className=\"golden\"> <i className=\"fa fa-key\" aria-hidden=\"true\"></i> </span>Acceso Autorizado</span> : null\n\t\t\t\t\t\t}\n\t\t\t\t\t</div>\n\t\t\t\t\t\n\t\t\t\t\t<div className=\"card-body\">\n\t\t\t\t\t\t<div className=\"row\">\n\t\t\t\t\t\t\t<div className=\"col\">\n\t\t\t\t\t\t\t\t<div id=\"my-signin2\"></div>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<UserRow user={user} cambiarUsuario={cambiarUsuario} />\n\n\t\t\t\t\t</div>\n\n\t\t\t\t\t<UserFoot user={user} cambiarUsuario={cambiarUsuario} />\n\n\t\t\t\t\t{loading ? <div className=\"backdropLogin\"><i className=\"fa fa-spinner fa-spin\"></i></div> : null}\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t\t<div className=\"col-12 col-md-3\"></div>\n\t\t</div>\n\t);\n\n}\n\nexport default Inicio;","import React, { createRef, useRef, useState, useEffect } from 'react';\nimport { useHistory } from \"react-router-dom\";\nimport { useDispatch, useSelector } from \"react-redux\";\nimport { \n\tloadStorage,\n\tcheckStatus,\n\tgetChanges,\n\tgetFilesList,\n\tlogOut\n} from \"./redux/actions/index\";\nimport './Dashboard.css';\nimport { Chart } from 'chart.js';\nimport { TabContent, TabPane, Nav, NavItem, NavLink } from 'reactstrap';\nimport { Modal, ModalHeader, ModalBody, ModalFooter } from 'reactstrap';\n\n\nfunction GeneralOverview(){\n\n\tconst files = useSelector(state => state.files.list);\n\n\treturn(\n\n\t\t<div className=\"row spacing-1\">\n\t\t    <div className=\"col-12 col-sm-6 col-md-3\">\n\n\t\t        <div className=\"card text-center border-info bg-light\">\n\t\t            <a href=\"https://docs.google.com/documents/\" target=\"_blank\" rel=\"noopener noreferrer\"><img className=\"card-img-top link\" src=\"images/docs.png\" alt=\"Google Docs\" /></a>\n\t\t            <div className=\"card-body\">\n\t\t                <p>Documentos</p>\n\t\t            </div>\n\t\t            <div className=\"card-footer border-info text-muted\">\n\t\t                <h2>{files.docs.length}</h2>\n\t\t            </div>\n\t\t        </div>\n\n\t\t    </div>\n\t\t    <div className=\"col-12 col-sm-6 col-md-3\">\n\n\t\t        <div className=\"card text-center border-success bg-light\">\n\t\t            <a href=\"https://docs.google.com/spreadsheets/\" target=\"_blank\" rel=\"noopener noreferrer\"><img className=\"card-img-top link\" src=\"images/spreadsheets.png\" alt=\"Google Sheets\" /></a>\n\t\t            <div className=\"card-body\">\n\t\t                <p>Hojas de Cálculo</p>\n\t\t            </div>\n\t\t            <div className=\"card-footer border-success text-muted\">\n\t\t                <h2>{files.sheets.length}</h2>\n\t\t            </div>\n\t\t        </div>\n\n\t\t    </div>\n\t\t    <div className=\"col-12 col-sm-6 col-md-3\">\n\n\t\t        <div className=\"card text-center border-warning bg-light\">\n\t\t            <a href=\"https://docs.google.com/presentation/\" target=\"_blank\" rel=\"noopener noreferrer\"><img className=\"card-img-top link\" src=\"images/slides.png\" alt=\"Google Presentations\" /></a>\n\t\t            <div className=\"card-body\">\n\t\t                <p>Presentaciones</p>\n\t\t            </div>\n\t\t            <div className=\"card-footer border-warning text-muted\">\n\t\t                <h2>{files.presentations.length}</h2>\n\t\t            </div>\n\t\t        </div>\n\n\t\t    </div>\n\t\t    <div className=\"col-12 col-sm-6 col-md-3\">\n\n\t\t        <div className=\"card text-center border-danger bg-light\">\n\t\t            <a href=\"https://drive.google.com/\" target=\"_blank\" rel=\"noopener noreferrer\"><img className=\"card-img-top link\" src=\"images/drawings.png\" alt=\"Google Drawings\" /></a>\n\t\t            <div className=\"card-body\">\n\t\t                <p>Drawings</p>\n\t\t            </div>\n\t\t            <div className=\"card-footer border-danger text-muted\">\n\t\t                <h2>{files.drawings.length}</h2>\n\t\t            </div>\n\t\t        </div>\n\n\t\t    </div>\n\t\t</div>\n\t)\n}\n\nfunction FilesRows({files, short, titulo}){\n\n\tif(short){\n\n\t    let arr = [0,1,2,3,4];\n\t\treturn(\n\t\t\tarr.map((i)=>{\n\t\t\t\tlet file = files[i];\n\t\t\t\tif(!file) return null;\n\t\t\t\treturn(\n\t\t\t\t\t<tr key={`${titulo}-${i+1}`}>\n\t\t\t\t\t\t<th scope=\"row\">{i+1}</th>\n\t\t\t\t\t\t<td>{file.name}</td>\n\t\t\t\t\t\t<td> <a href={file.webViewLink} target=\"_blank\" rel=\"noopener noreferrer\">Ver</a> </td>\n\t\t\t\t\t\t<td>{file.time.getDate()}-{file.time.getMonth()+1}-{file.time.getFullYear()}</td>\n\t\t\t\t\t</tr>\n\t\t\t\t)\n\n\t\t\t})\n\t\t)\n\t}\n\telse{\n\n\t\treturn(\n\t\t\tfiles.map((file, i)=>{\n\t\t\t\treturn(\n\t\t\t\t\t<tr key={`${titulo}-${i+1}`}>\n\t\t\t\t\t\t<th scope=\"row\">{i+1}</th>\n\t\t\t\t\t\t<td>{file.name}</td>\n\t\t\t\t\t\t<td> <a href={file.webViewLink} target=\"_blank\" rel=\"noopener noreferrer\">Ver</a> </td>\n\t\t\t\t\t\t<td>{file.time.getDate()}-{file.time.getMonth()+1}-{file.time.getFullYear()}</td>\n\t\t\t\t\t</tr>\n\t\t\t\t)\n\n\t\t\t})\n\t\t)\n\t}\n}\n\nfunction FilesTable({files, titulo, tableClass=\"table-responsive\", short = true}){\n\n\n\tif(!files || !files.length){\n\n\t\treturn (\n\t\t\t<p className=\"card-text\">No hay documentos que mostrar</p>\n\t\t)\n\t}\n\telse{\n\n\t\treturn(\n\t\t\t<div className={tableClass}>\n\n\t\t\t    <table className=\"table\">\n\t\t\t        <thead>\n\t\t\t            <tr>\n\t\t\t                <th scope=\"col\">#</th>\n\t\t\t                <th scope=\"col\">Nombre</th>\n\t\t\t                <th scope=\"col\">Ubicacion</th>\n\t\t\t                <th scope=\"col\">Modificado</th>\n\t\t\t            </tr>\n\t\t\t        </thead>\n\t\t\t        <tbody>\n\t\t\t        \t<FilesRows files={files} short={short} titulo={titulo} />\n\t\t\t        </tbody>\n\t\t        </table>\n\n\t\t    </div>\n\t\t)\n\n\t}\n}\n\nfunction FilesModal({listado, titulo}){\n\n  const [modal, setModal] = useState(false);\n  const toggle = () => setModal(!modal);\n\n  if(listado.length <= 5){\n  \treturn(\n      <button type=\"button\" className=\"btn btn-outline-light\" disabled>\n      \t<i className=\"fa fa-folder-o\"></i>\n      </button>\n  \t)\n  }\n  else{\n\n\t  return (\n\t    <React.Fragment>\n\t      <button type=\"button\" className=\"btn btn-outline-light\" onClick={toggle}>\n\t      \t<i className=\"fa fa-folder-open-o\"></i> \n\t      </button>\n\n\t      <Modal isOpen={modal} size=\"lg\" toggle={toggle}>\n\t        <ModalHeader toggle={toggle}>\n\t        \t{titulo}\n\t        </ModalHeader>\n\t        <ModalBody>\n\t        \t<FilesTable files={listado} titulo={titulo} tableClass=\"table-responsive modal-table\" short={false} />\n\t        </ModalBody>\n\t        <ModalFooter>\n\t          <button type=\"button\" className=\"btn btn-outline-dark\" onClick={toggle}>Cerrar</button>\n\t        </ModalFooter>\n\t      </Modal>\n\t    </React.Fragment>\n\t  )\n  }\n\n}\n\nfunction FilesPerType({files, cardClass, headerClass, titulo}){\n\n\t//`<app-filemodal [listado]=\"files\" [titulo]=\"titulo\"></app-filemodal>`\n\n\treturn(\n\t\t<React.Fragment>\n\n\t\t    <div className={cardClass}>\n\t\t        <div className={headerClass}>\n\t\t        \t<FilesModal listado={files} titulo={titulo} />\n\t\t        \t{titulo}\n\t\t        </div>\n\t\t        <div className=\"card-body\">\n\t\t        \t<FilesTable files={files} titulo={titulo} />\n\t\t        </div>\n\t\t    </div>\n\t\t</React.Fragment>\n\t)\n}\n\nfunction FilesCards({doneLoading}){\n\n\tconst dispatch = useDispatch();\n\tconst files = useSelector(state => state.files);\n\n\tuseEffect(()=>{\n\t\tif(files.token && files.token !== \"\"){\n\t\t\tdispatch(getFilesList(files.token));\n\t\t}\n\t\telse if(files.token === false){\n\t\t\tdoneLoading(true);\n\t\t}\n\t}, [files, dispatch, doneLoading])\n\n\treturn(\n\t\t<React.Fragment>\n\t\t<div className=\"row spacing-1\">\n\t\t    <div className=\"col-12 col-lg-6 spacing-2\">\n\t\t\t\t<FilesPerType files={files.list.docs} cardClass=\"card border-primary bg-light mb-3\" headerClass=\"card-header bg-primary text-white\" titulo=\"Documentos\" />\n\t\t\t</div>\n\t\t\t<div className=\"col-12 col-lg-6 spacing-2\">\n\t\t\t\t<FilesPerType files={files.list.presentations} cardClass=\"card border-warning bg-light mb-3\" headerClass=\"card-header bg-warning text-white\" titulo=\"Presentaciones\" />\n\t\t\t</div>\n\t\t</div>\n\t\t<div className=\"row spacing-1\">\n\t\t    <div className=\"col-12 col-lg-6 spacing-2\">\n\t\t\t\t<FilesPerType files={files.list.sheets} cardClass=\"card border-success bg-light mb-3\" headerClass=\"card-header bg-success text-white\" titulo=\"Hojas de Cálculo\" />\n\t\t\t</div>\n\t\t    <div className=\"col-12 col-lg-6 spacing-2\">\n\t\t\t\t<FilesPerType files={files.list.drawings} cardClass=\"card border-danger bg-light mb-3\" headerClass=\"card-header bg-danger text-white\" titulo=\"Drawings\" />\n\t\t\t</div>\n\t\t</div>\n\t\t</React.Fragment>\n\t)\n}\n\nfunction StorageUsage(){\n\n\tconst storage = useSelector(state => state.storage);\n\n\tconst storageCanvas = useRef(null);\n\tconst driveCanvas = useRef(null);\n\tconst trashCanvas = useRef(null);\n\n\tlet totalStorageChart = createRef(null);\n\tlet driveStorageChart = createRef(null);\n\tlet trashStorageChart = createRef(null);\n\n    if(!storage || !storage.usage) return null;\n\n    let usage = storage.usage;\n\n\tfunction drawStorageTotalChart(){\n\n\t\tif(!totalStorageChart.current && storageCanvas.current){\n\n\t    let data = {\n\t      labels: ['En uso','Disponible'],\n\t      datasets: [{\n\t        data: [usage.storageUsage, usage.storageLimit-usage.storageUsage],\n\t        backgroundColor: ['red','#0000FF']\n\n\t      }]\n\t    };\n\n\t    totalStorageChart.current = drawChart(storageCanvas.current, 'pie', data);\n\t\t}\n\n\t}\n\n\tfunction drawStorageDriveChart(){\n\n\t\tif(!driveStorageChart.current && storageCanvas.current){\n\n\t    let data = {\n\t      labels: ['En Drive','Otros'],\n\t      datasets: [{\n\t        data: [usage.storageUsageDrive, usage.storageLimit-usage.storageUsageDrive],\n\t        backgroundColor: ['black','#00FF99']\n\n\t      }]\n\t    }\n\n\t\tdriveStorageChart.current = drawChart(driveCanvas.current, 'pie', data);\n\t    //setDriveStorageChart(drawChart('driveChartCanvas', 'pie', data));\n\t\t}\n\t}\n\n\tfunction drawStorageTrashChart(){\n\n\t\tif(!trashStorageChart.current && storageCanvas.current){\n\n\t    let data = {\n\t      labels: ['Papelera','Otros'],\n\t      datasets: [{\n\t        data: [usage.storageUsageTrash, usage.storageLimit-usage.storageUsageTrash],\n\t        backgroundColor: ['black','#3333FF']\n\n\t      }]\n\t    }\n\n\t    trashStorageChart.current = drawChart(trashCanvas.current, 'pie', data);\n\t    //setTrashStorageChart(drawChart('trashChartCanvas', 'pie', data));\n\t\t}\n\t}\n\n\n\tfunction drawChart(id, type, data) {\n\n\t    return new Chart(id, {\n\t      type: type,\n\t      data: data,\n\t      options: {\n\t        legend: {\n\t          display: false\n\t        },\n\t        scales: {\n\t          xAxes: [{\n\t            display: true\n\t          }],\n\t          yAxes: [{\n\t            display: true\n\t          }],\n\t        }\n\t      }\n\t    });\n\n\t}\n\n\tsetTimeout(()=>{\n\t\tdrawStorageTotalChart();\n\t\tdrawStorageDriveChart();\n\t\tdrawStorageTrashChart();\n\t}, 1000);\n\n\treturn(\n\t\t<div className=\"row spacing-1\">\n\n\t\t    <div className=\"col-12 col-md-4 spacing-2\">\n\n\t\t        <div className=\"card text-center border-success bg-transparent\">\n\t\t            <div className=\"card-header\">\n\t\t                Almacenamiento total\n\t\t            </div>\n\t\t            <div className=\"card-body\">\n\t\t            \t<canvas id=\"driveChartCanvas\" ref={storageCanvas} width=\"200\" height=\"200\"></canvas>\n\t\t            </div>\n\t\t            <div className=\"card-footer text-muted\">\n\t\t                <p> {usage.storageUsage} / {usage.storageLimit} GB </p>\n\t\t            </div>\n\n\t\t        </div>\n\t\t    </div>\n\n\t\t    <div className=\"col-12 col-md-4 spacing-2\">\n\n\t\t        <div className=\"card text-center border-info bg-light\">\n\t\t            <div className=\"card-header\">\n\t\t                Almacenamiento en Drive\n\t\t            </div>\n\t\t            <div className=\"card-body\">\n\t\t                <canvas id=\"driveChartCanvas\" ref={driveCanvas} width=\"200\" height=\"200\"></canvas>\n\t\t            </div>\n\t\t            <div className=\"card-footer text-muted\">\n\t\t                <p> {usage.storageUsageDrive} / {usage.storageLimit} GB </p>\n\t\t            </div>\n\n\t\t        </div>\n\n\t\t    </div>\n\n\t\t    <div className=\"col-12 col-md-4 spacing-2\">\n\n\t\t        <div className=\"card text-center border-info bg-light\">\n\t\t            <div className=\"card-header\">\n\t\t                Almacenamiento en Papelera\n\t\t            </div>\n\t\t            <div className=\"card-body\">\n\t\t                <canvas id=\"trashChartCanvas\" ref={trashCanvas} width=\"200\" height=\"200\"></canvas>\n\t\t            </div>\n\t\t            <div className=\"card-footer text-muted\">\n\t\t                <p> {usage.storageUsageTrash} / {usage.storageLimit} GB </p>\n\t\t            </div>\n\n\t\t        </div>\n\n\t\t    </div>\n\n\t\t</div>\n\t)\n\n}\n\nfunction FilesLimits(){\n\n\tconst storage = useSelector(state => state.storage);\n\n\treturn(\n\n        <div className=\"card text-white bg-info mb-3\">\n            <div className=\"card-header\">\n                Límites de tamaño de archivos\n            </div>\n            <div className=\"card-body\">\n\n                <p> <strong>Subidas: </strong> {storage.uploads.maxUploadSize} TB</p>\n                <p> <strong>Documentos importados: </strong> {storage.imports.document} MB</p>\n                <p> <strong>Presentaciones importadas: </strong> {storage.imports.presentation} MB</p>\n                <p> <strong>Hojas de Cálculo importadas: </strong> {storage.imports.spreadsheet} MB</p>\n                <p> <strong>Drawings importados: </strong> {storage.imports.draw} MB</p>\n\n            </div>\n\n        </div>\n\t)\n}\n\nfunction ChangesTable({changes}){\n\n\n\tif(!changes || !changes.length){\n\n\t\treturn(\n\t\t\t<p className=\"card-text\">No hay cambios en archivos que mostrar</p>\n\t\t)\n\t}\n\telse{\n\n\t\treturn (\n            <div className=\"table-responsive\">\n\n                <table className=\"table\">\n                    <thead>\n                        <tr>\n                            <th scope=\"col\">#</th>\n                            <th scope=\"col\">Nombre</th>\n                            <th scope=\"col\">Ubicacion</th>\n                            <th scope=\"col\">Modificado</th>\n                        </tr>\n                    </thead>\n                    <tbody>\n                    {\n                    \tchanges.map((file, i)=>{\n                    \t\treturn(\n\t\t                        <tr key={`changes-${i+1}`}>\n\t\t                            <th scope=\"row\">{i+1}</th>\n\t\t                            <td>{file.name}</td>\n\t\t                            <td> <a href={file.webViewLink} target=\"_blank\" rel=\"noopener noreferrer\">Ver</a> </td>\n\t\t                            <td>{file.time.getDate()}-{file.time.getMonth()+1}-{file.time.getFullYear()}</td>\n\t\t                        </tr>\n                    \t\t)\n                    \t})\n                    }\n                    </tbody>\n                </table>\n\n            </div>\n\t\t)\n\t}\n}\n\nfunction RecentChanges(){\n\n\tconst changes = useSelector(state => state.changes);\n\tconst [activeTab, setActiveTab] = useState('1');\n\tconst toggle = tab => {\n\t\tif(activeTab !== tab) setActiveTab(tab);\n\t}\n\n\n  \treturn (\n\t\t<div className=\"card border-warning bg-transparent\">\n\t\t\t<div className=\"card-body\">\n\t\t      <Nav tabs>\n\t\t        <NavItem>\n\t\t          <NavLink\n\t\t            className={ `${ activeTab === '1' ? 'active' : '' }` }\n\t\t            onClick={() => { toggle('1'); }}\n\t\t          >\n\t\t            Cambios recientes en archivos\n\t\t          </NavLink>\n\t\t        </NavItem>\n\t\t      </Nav>\n\t\t      <TabContent activeTab={activeTab}>\n\t\t        <TabPane tabId=\"1\">\n\t\t          <div className=\"row\">\n\t\t            <div className=\"col-12\">\n\t\t            \t<ChangesTable changes={changes.list}/>\n\t\t            </div>\n\t\t          </div>\n\t\t        </TabPane>\n\t\t      </TabContent>\n\t\t\t</div>\n\t    </div>\n  \t);\n}\n\nfunction SideNav({logginOut}){\n\n\tconst user = useSelector(state => state.user);\n\tconst mySidenav = useRef();\n\tconst dispatch = useDispatch();\n\n\tif(!user || !user.gUser) return null;\n\n\tlet profile = user.gUser.getBasicProfile();\n\n\tlet usermail = profile.getEmail();\n\tlet username = profile.getName();\n\tlet userpic = profile.getImageUrl();\n\n\tfunction signOut(){\n\t\tlogginOut();\n\t\ttoggleMenu();\n\t\tdispatch(logOut());\n\t}\n\n\tfunction toggleMenu(){\n\t\tif(mySidenav.current.classList.contains(\"open\")){\n\t\t\tmySidenav.current.classList.remove(\"open\");\n\t\t}\n\t\telse{\n\t\t\tmySidenav.current.classList.add(\"open\");\n\t\t}\n\t}\n\n\treturn(\n\n\t\t<React.Fragment>\n\t\t\t<div className=\"sidenav\" ref={mySidenav} id=\"mySidenav\">\n\n\t\t\t    <div className=\"card bg-light\">\n\n\t\t\t        <div className=\"card-header\">\n\t\t\t            <i className=\"fa fa-user-circle-o\"></i> Usuario\n\t\t\t        </div>\n\n\t\t\t        <div className=\"card-body\">\n\t\t\t            <p className=\"card-text\"><i className=\"fa fa-address-card-o\"></i> Nombre:</p>\n\t\t\t            <p>{username}</p>\n\t\t\t            <p className=\"card-text\"><i className=\"fa fa-envelope-open-o\"></i> E-mail:</p>\n\t\t\t            <p>{usermail}</p>\n\t\t\t        </div>\n\n\t\t\t        <div className=\"card-footer text-muted\">\n\t\t\t            <button type=\"button\" className=\"btn btn-outline-danger\" onClick={()=> signOut() }><i className=\"fa fa-sign-out\"></i>Salir</button>\n\t\t\t        </div>\n\n\t\t\t    </div>\n\n\t\t\t</div>\n\n\t\t\t<div className=\"dash-backdrop\" onClick={()=> toggleMenu() }></div>\n\n\t\t\t<div className=\"floating-special\" onClick={()=> toggleMenu() }>\n\t\t\t    <img src={userpic} className=\"profilePic\" alt=\"profile_pic\" />\n\t\t\t</div>\n\t\t</React.Fragment>\n\t)\n}\n\nfunction Dashboard(){\n\n\tlet [first, setFirst] = useState(false);\n\t//let [sessionExpires, setSessionExpires] = useState(null);\n\tlet backdropLoading = useRef(null);\n\tlet cornerLoading = useRef(null);\n\tlet history = useHistory();\n\tconst dispatch = useDispatch();\n\tconst user = useSelector(state => state.user);\n\n    useEffect(()=>{\n    \tdispatch(checkStatus());\n    }, [dispatch]);\n\n    useEffect(()=>{\n\n    \tif(user.isLogged === true && !first){\n\n\n\t\t\tbackdropLoading.current.classList.remove(\"loading\");\n\t\t\tcornerLoading.current.classList.add(\"loading\");\n\t        dispatch(loadStorage());\n\t        dispatch(getChanges());\n\t        dispatch(getFilesList(\"\"));\n\t        setFirst(true);\n    \t}\n    \telse if(user.isLogged === false){\n\n    \t\thistory.push('/');\n    \t}\n    }, [user.isLogged, first, dispatch, history]);\n/*\n    useEffect(()=>{\n\n    \tif(user && user.gUser){\n    \t\tlet expires = user.gUser.getAuthResponse().expires_at;\n    \t\tsetSessionExpires(parseFloat(((expires - Date.now())/60000).toFixed(1)));\n    \t}\n\n    }, [user]);\n*/\n    function spinOff(){\n\t\tbackdropLoading.current.classList.remove(\"loading\");\n\t\tcornerLoading.current.classList.remove(\"loading\");\n    }\n\n    function turnSpinCenter(){\n\t\tbackdropLoading.current.classList.add(\"loading\");\n    }\n\n\treturn (\n\t\t<React.Fragment>\n\t\t\t<GeneralOverview />\n\t\t\t<StorageUsage />\n\t\t\t<div className=\"row spacing-1\">\n\t\t\t\t<div className=\"col-12 col-md-4 spacing-2\">\n\t\t\t\t\t<FilesLimits />\n\t\t\t\t</div>\n\t\t\t\t<div className=\"col-12 col-md-8 spacing-2\">\n\t\t\t\t\t<RecentChanges />\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t\t<FilesCards doneLoading={()=> spinOff() } />\n\t\t\t<SideNav logginOut={()=> turnSpinCenter()} />\n\t\t\t<React.Fragment>\n\t\t\t\t<div ref={cornerLoading} className=\"loadingCorner\">\n\t\t\t\t    <i className=\"fa fa-spinner fa-spin\"></i>\n\t\t\t\t</div>\n\t\t\t\t<div ref={backdropLoading} className=\"dash-backdrop bd-2 loading\"></div>\n\t\t\t\t<i className=\"fa fa-spinner fa-spin\"></i>\n\t\t\t</React.Fragment>\n\t\t</React.Fragment>\n\t)\n\n}\n\nexport default Dashboard;","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.0/8 are considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl, {\n    headers: { 'Service-Worker': 'script' },\n  })\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready\n      .then(registration => {\n        registration.unregister();\n      })\n      .catch(error => {\n        console.error(error.message);\n      });\n  }\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\n\nimport { Provider } from \"react-redux\";\nimport store  from \"./redux/store/index\";\n\nimport {\n  BrowserRouter as Router,\n  Switch,\n  Route\n} from \"react-router-dom\";\n\nimport 'bootstrap/dist/css/bootstrap.min.css';\nimport 'font-awesome/css/font-awesome.min.css';\nimport './index.css';\nimport Inicio from './Inicio';\nimport Dashboard from './Dashboard';\nimport * as serviceWorker from './serviceWorker';\n\nReactDOM.render(\n\n  <Provider store={store}>\n\t<div className=\"container\">\n\t    <Router>\n\t        <Switch>\n\t          <Route path=\"/dashboard\">\n\t            <Dashboard />\n\t          </Route>\n\t          <Route path=\"/\">\n\t            <Inicio />\n\t          </Route>\n\t        </Switch>\n\t    </Router>\n\t</div>\n  </Provider>,\n  document.getElementById('root')\n);\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister();\n"],"sourceRoot":""}